# Возможность тестирования игровой логики с сервером

## Статус

На рассмотрении

## Решаемая проблема

На данный момент написать тест по тестированию взаимодействие клиента и сервера можно только при условии запущенного
сервера или в docker, или в kubernetes. Что для тестирования не удобно, к тому же нет изоляции сервера от разных
тестов.

## Варианты

## Stub/Mock вариант

На C# пишется набор заглушек для эмуляции сервера.

"+"
- простая реализация

"-"
- разное поведение реального сервера и эмулятора
- постоянная доработка эмулятора по мере развития сервера
- не тестируется серверная и клиентская часть в прикладных тестах

## Embedded вариант

Запуск сервера как embedded процесса в составе Unity.

"+"
- тестируемый сервер аналогичен серверу на проде;
- новый функционал сервере не требует к его повторению в эмуляторе;

"-"
- более сложная реализация
- возможно, большее потребление ресурсов

# Реализация embedded вариант-а

- необходимо учесть что есть сервисы создания комнат из yaml конфигурации
- нужны методы как запуска так и останова сервера
- сервер должен выбирать и возвращать свободные порты для UDP/gRPC
- поддерживаемый платформы - windows, linux и macos