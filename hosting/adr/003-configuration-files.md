# Общий подход для работы с файлами конфигурации

- Конфигурация сохраняется в yaml файлах
- Kubernetes конфигурируется через ConfigMap
- Docker непосредственно через файлы

## Структура каталога

- имя сервиса (составное - matches-factory)
  - Каталог
  - Файл.yaml
- ....
- имя сервиса

## Запуск в Kubernetes

Консольная утилита формирует ConfigMap для helm на основе каталога с конфигурацией. Для каждого сервиса:

- каталог с конфигурацией преобразуется в tgz и формируется ConfigMap с binaryData - service+каталог+ConfigMap
- для каждого файл.yaml формируется ConfigMap с datа - service+имя файла + ConfigMap
- название ConfigMap в pod/deployments фиксировано, но они должны быть предоставлены отдельно, в helm пакете платформы
  их нет

## Запуск в Docker

Конфигурация каждого сервиса монтируется в соответсвующий Docker контейнер

## Валидация

Отдельная утилита для валидации конфигурации:

- найти аналог Schema
- возможно каждый сервис может предоставлять код для custom валидации
- валидация может быть встроена в CI и панель запуска сервера из Unity
