Применяется для логической группировки данных. Также является средством
разграничения [прав доступа](/components/relay/configuration/permissions/).

# Данные объекта

- Уникальный идентификатор служит для адресации объекта в командах. Бывает двух типов - id объекта созданного игроком, и
  id объекта созданного комнатой.
- Шаблон проект - описывает тип объекта — например танк, мина и так далее. Позволяет клиенту понять что конкретно надо
  создавать, также для разных шаблонов можно настраивать права доступа, трассировку команд и так далее.
- Поддерживаются два типа владельцев — игрок и комната. Объекты, созданные игроками, удаляются при удалении игрока из
  комнаты (но не при DetachFromRoom)
- Группа доступа - битовая маска, где каждый бит обозначает принадлежность объекта к соответсвующей группе (всего 63
  группы), объекты загружается на клиент, если хоть одна из групп клиента есть на объекте

# Операции с объектом

- создание пользовательского объекта, такие объекты удаляются если игрок вышел из игры;
- создание объекта, принадлежащего комнате
    - объект будет загружен на пользователя, который его создал;
    - объект автоматически не удаляется при выходе пользователя, который его создал;
    - при создании нельзя получить id созданного объекта, так как id назначается сервером после полного создания
      объекта;
- создание singleton объекта от имени комнаты
    - объект будет загружен на пользователя, который его создал;
    - объект автоматически не удаляется при выходе пользователя, который его создал;
    - при создании нельзя получить id созданного объекта, так как id назначается сервером после полного создания
      объекта;
    - на сервере может в один и тот же момент времени существовать только один объект с ключом указанным при создании,
      все последующие создания объекта с таким-же ключом будут игнорироваться сервером;
- удаление объекта

## Поля объекта

### Числовые значения - Long/Double

На каждом объекте можно хранить вещественные числа (double) и целые числа, адресуемых по идентификатору поля.
Все сохраненные поля загрузятся клиенту при загрузке объекта. Также любое обновление поля на одном клиенте будет
разослано другим клиентам.

Существует две команды изменения значения - установка значения и операции increment/decrement.

### Структуры

Структура — набор бинарных данных с идентификатором поля. Структуры для объекта сохраняются на сервере и загружаются при
загрузке объекта на клиента. Также установка новой структуры или обновление существующей приводит к изменению структуры
на всех клиентах, на которых загружен игровой объект

### События

События — набор бинарных данных с идентификатором поля. События не сохраняются на объекте, а сразу рассылаются по
клиентам.

Для рассылки событий есть две команды:

- Событие отправляется конкретному пользователю если на него загружен объект.
- Событие рассылается всем пользователя, на которых загружен объект.

## Удаление поля

При удалении поля:

- рассылается уведомление об удалении всем существующим клиентам
- для новых клиентов данное поле не будет загружено при загрузке объекта
- если поле не существует - команда выполнится так как будто поле есть на объекте
